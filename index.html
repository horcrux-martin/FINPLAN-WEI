<!-- index.html -->
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Financial Planner by Wawei</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div class="brand-text">
          <div class="brand-title">Financial Planner</div>
          <div class="brand-sub">Checkup â†’ Rasio â†’ Rekomendasi â†’ Goals (S2 + Multi) â†’ Grafik â†’ Roadmap</div>
        </div>
      </div>

      <nav class="nav" id="nav" aria-label="Navigasi utama">
        <button data-target="landing" class="active">ğŸ  Home</button>
        <button data-target="checkup">ğŸ§­ Checkup</button>
        <button data-target="results">ğŸ“Œ Hasil</button>
        <button data-target="ai">ğŸ¤– Rekomendasi</button>
        <button data-target="goals">ğŸ“ Goals S2</button>
        <button data-target="goals2">ğŸ¯ Goals Lainnya</button>
        <button data-target="visuals">ğŸ“Š Grafik</button>
        <button data-target="plan">ğŸ›£ Roadmap</button>
      </nav>
    </div>
  </header>

  <main class="app">

    <!-- LANDING -->
    <section class="section active" id="section-landing">
      <div class="hero">
        <div class="panel hero-panel">
          <div class="panel-head">
            <div>
              <h1>Seriusin keuangan kamu, tapi tetap manusiawi.</h1>
              <p>
                Isi data kamu â†’ sistem hitung rasio â†’ kasih status warna + dampak â†’ rekomendasi investasi & strategi utang â†’
                jawab â€œgue sanggup S2/nabung rumah/nikah/anak nggak?â€ â†’ tampilkan grafik â†’ keluarkan roadmap 3/6/12 bulan.
              </p>
            </div>
            <div class="hero-actions">
              <button class="btn primary" id="btnStartWizard">Mulai Checkup â†’</button>
              <button class="btn" id="btnRefreshAll">Refresh</button>
              <button class="btn ghost" id="btnResetAll">Reset Data Contoh</button>
            </div>
          </div>

          <div class="panel-body">
            <div class="kpi-grid" id="kpiLanding"></div>
            <div class="note">
              Shortcut: <span class="kbd">Ctrl</span> + <span class="kbd">K</span> untuk langsung ke Checkup.
            </div>
          </div>
        </div>

        <div class="panel side-panel">
          <div class="panel-head">
            <div>
              <h2>Yang dicek sistem ini</h2>
              <p>Fokusnya actionable: status warna, dampak, dan langkah konkret.</p>
            </div>
          </div>
          <div class="panel-body">
            <div class="bullets">
              <div class="bullet">âœ… Rasio Likuiditas</div>
              <div class="bullet">âœ… Rasio Menabung</div>
              <div class="bullet">âœ… Rasio Utang (cicilan)</div>
              <div class="bullet">âœ… Net Worth & Cashflow</div>
              <div class="bullet">âœ… Rekomendasi Investasi & Utang</div>
              <div class="bullet">âœ… Goals S2 + Goals Lainnya</div>
              <div class="bullet">âœ… Grafik real dari data kamu</div>
              <div class="bullet">âœ… Roadmap 3/6/12 bulan adaptif</div>
            </div>

            <div class="divider"></div>

            <div class="cta-row">
              <button class="btn primary" id="btnLandingToResults">Lihat Dashboard Hasil â†’</button>
              <button class="btn" id="btnLandingToGoals2">Cek Goals Lainnya â†’</button>
            </div>

            <div class="small-muted">
              Catatan: tool ini edukatif. Untuk keputusan besar (mis. KPR baru), pertimbangkan konsultasi profesional.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CHECKUP -->
    <section class="section" id="section-checkup">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Financial Checkup Wizard</h2>
            <p>Isi bertahap, bisa bolak-balik. Data auto tersimpan di browser kamu.</p>
          </div>
          <div class="head-right">
            <div class="pill info" id="wizardProgressPill">Progress: 0/4</div>
            <div class="pill" id="pillLastSaved">Terakhir simpan: â€”</div>
            <button class="btn" id="btnWizardRecalc">Hitung & Update Semua</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="wizard">
            <aside class="wizard-steps" id="wizardSteps"></aside>

            <div class="wizard-card">
              <div class="wizard-title" id="wizardStepTitle"></div>
              <div class="wizard-desc" id="wizardStepDesc"></div>
              <div class="space"></div>
              <div id="wizardForm"></div>

              <div class="divider"></div>

              <div class="wizard-actions">
                <div class="left">
                  <button class="btn" id="btnPrev">â† Sebelumnya</button>
                  <button class="btn primary" id="btnNext">Berikutnya â†’</button>
                </div>
                <div class="right">
                  <button class="btn" id="btnGoResults">Ke Dashboard Hasil</button>
                  <button class="btn ghost" id="btnGoAI">Ke Rekomendasi</button>
                </div>
              </div>

              <div class="small-muted">
                Kamu boleh isi 0 kalau belum tahu. Yang penting konsisten, nanti kamu rapihin.
              </div>
            </div>
          </div>

          <div class="space-lg"></div>

          <div class="grid-2">
            <div class="panel inner">
              <div class="panel-head compact">
                <div>
                  <h3>Ringkasan Cepat (Auto)</h3>
                  <p>Snapshot dari data yang kamu isi sekarang.</p>
                </div>
              </div>
              <div class="panel-body">
                <div class="metric-grid" id="quickMetrics"></div>
              </div>
            </div>

            <div class="panel inner">
              <div class="panel-head compact">
                <div>
                  <h3>Catatan yang sering kejadian</h3>
                  <p>Biar nggak â€œmerasa amanâ€ padahal rapuh.</p>
                </div>
              </div>
              <div class="panel-body">
                <ul class="tips">
                  <li><strong>Dana darurat</strong> beda dengan tabungan tujuan (S2/DP rumah). Fungsinya buat â€œkejadian hidupâ€.</li>
                  <li><strong>Saving tinggi</strong> tapi likuiditas rendah = rawan â€œnabung maksaâ€ lalu gesek kartu kredit.</li>
                  <li><strong>Debt ratio</strong> aman belum tentu cashflow aman kalau pengeluaran bocor.</li>
                  <li><strong>Investasi</strong> harus sesuai tujuan & horizon, bukan â€œlagi rameâ€.</li>
                </ul>
                <div class="divider"></div>
                <div class="cta-row">
                  <button class="btn primary" id="btnToAIFromCheckup">Lanjut Rekomendasi â†’</button>
                  <button class="btn" id="btnToGoalsFromCheckup">Cek Goals S2 â†’</button>
                  <button class="btn" id="btnToGoals2FromCheckup">Cek Goals Lainnya â†’</button>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section class="section" id="section-results">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Financial Health Dashboard</h2>
            <p>Angka + interpretasi + status warna. Fokus: dampaknya ke hidup kamu dan apa yang dibenahi duluan.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnResultsRecalc">Refresh</button>
            <button class="btn primary" id="btnResultsToAI">Ke Rekomendasi â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="metric-grid" id="resultsMetrics"></div>

          <div class="space-lg"></div>

          <div class="grid-2">
            <div class="card">
              <div class="card-title">Detail Angka (Ringkas)</div>
              <div id="resultsDetail"></div>
            </div>

            <div class="card">
              <div class="card-title">Interpretasi Utama</div>
              <div id="resultsNarrative" class="muted"></div>
              <div class="divider"></div>
              <div class="cta-row">
                <button class="btn primary" id="btnToVisuals">Lihat Grafik â†’</button>
                <button class="btn" id="btnToPlan">Buka Roadmap â†’</button>
              </div>
            </div>
          </div>

          <div class="space-lg"></div>

          <div class="card soft">
            <div class="card-title">Catatan penting soal Rasio Likuiditas</div>
            <div class="muted">
              Rasio Likuiditas di sistem ini pakai pendekatan <strong>â€œbulan amanâ€</strong>:
              <strong>aset kas/lkuid Ã· pengeluaran bulanan</strong>, tapi <strong>tidak memasukkan pos â€œsavingâ€</strong>
              dan <strong>tidak memasukkan zakat</strong> sebagai beban operasional (zakat tetap dihitung di total pengeluaran/cashflow).
              Dengan data contoh, hasilnya sekitar <strong>3.6x</strong> (sesuai angka contoh yang kamu minta).
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- AI -->
    <section class="section" id="section-ai">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>AI Recommendation (Otomatis & Logis)</h2>
            <p>Bukan motivasi. Ini prioritas yang masuk akal berdasarkan rasio dan cashflow kamu.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnAIRecalc">Refresh</button>
            <button class="btn primary" id="btnAIToGoals">Lanjut Goals S2 â†’</button>
            <button class="btn" id="btnAIToGoals2">Goals Lainnya â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="cards" id="aiCards"></div>

          <div class="space-lg"></div>

          <div class="card soft">
            <div class="card-title">Kalau cuma bisa 3 hal dulu</div>
            <div id="aiTop3" class="muted"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- GOALS S2 -->
    <section class="section" id="section-goals">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Goals Planner â€” S2 Luar Negeri</h2>
            <p>Jawab: <strong>â€œGue sanggup S2 apa nggak?â€</strong> pakai gap analysis, target saving, timeline, dan strategi.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnGoalsRecalc">Hitung Goals</button>
            <button class="btn primary" id="btnGoalsToVisuals">Lihat Grafik â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid-2">
            <div class="card">
              <div class="card-title">Input Goals S2</div>
              <div class="form" id="goalsForm"></div>
              <div class="divider"></div>
              <div class="cta-row">
                <button class="btn primary" id="btnGoalsCalc">Cek Feasibility</button>
                <button class="btn ghost" id="btnGoalsReset">Reset</button>
                <button class="btn" id="btnGoalsToGoals2">Goals Lainnya â†’</button>
              </div>
            </div>

            <div class="card">
              <div class="card-title">Hasil & Strategi</div>
              <div id="goalsResult"></div>
              <div class="divider"></div>
              <div class="cta-row">
                <button class="btn" id="btnGoalsToAI">Balik ke Rekomendasi</button>
                <button class="btn primary" id="btnGoalsToPlan">Generate Roadmap â†’</button>
              </div>
            </div>
          </div>

          <div class="space-lg"></div>

          <div class="grid-2">
            <div class="chart-wrap">
              <div class="chart-title">Proyeksi Akumulasi Dana Goals (S2)</div>
              <canvas id="s2Line"></canvas>
            </div>
            <div class="card soft">
              <div class="card-title">Catatan Realistis</div>
              <div class="muted" id="goalsRealisticNotes"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- GOALS LAINNYA -->
    <section class="section" id="section-goals2">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Goals Planner â€” Nikah / Anak / Rumah (Multi-Goal)</h2>
            <p>Tambah beberapa goals, lalu sistem hitung gap + kebutuhan bulanan + feasibility + strategi prioritas.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnGoals2Recalc">Hitung Ulang</button>
            <button class="btn primary" id="btnGoals2ToPlan">Generate Roadmap â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid-2">
            <div class="card">
              <div class="card-title">Tambah Goal</div>
              <div class="form" id="goals2Create"></div>
              <div class="divider"></div>
              <div class="cta-row">
                <button class="btn primary" id="btnGoals2Add">Tambah Goal</button>
                <button class="btn ghost" id="btnGoals2Reset">Reset</button>
                <button class="btn" id="btnGoals2ToGoalsS2">Goals S2 â†’</button>
              </div>
              <div class="small-muted">
                Tips: Untuk rumah, pisah fase: <strong>DP</strong> â†’ <strong>biaya akad/kredit</strong> â†’ <strong>furnitur/renov</strong>.
              </div>
            </div>

            <div class="card">
              <div class="card-title">Daftar Goals</div>
              <div id="goals2List"></div>
              <div class="divider"></div>
              <div class="card-title">Ringkasan Feasibility</div>
              <div id="goals2Summary"></div>
            </div>
          </div>

          <div class="space-lg"></div>

          <div class="card soft">
            <div class="card-title">Strategi Otomatis</div>
            <div id="goals2Strategy" class="muted"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- VISUALS -->
    <section class="section" id="section-visuals">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Visual Dashboard (Real Data)</h2>
            <p>Pie: alokasi aset. Bar: income vs expenses vs surplus. Semua dari data kamu.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnVisualsRecalc">Refresh Grafik</button>
            <button class="btn primary" id="btnVisualsToPlan">Ke Roadmap â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid-2">
            <div class="chart-wrap">
              <div class="chart-title">Alokasi Aset (Kas/Likuid vs Investasi vs Non-Likuid)</div>
              <canvas id="assetPie"></canvas>
            </div>
            <div class="chart-wrap">
              <div class="chart-title">Arus Kas Bulanan (Income vs Expenses vs Surplus/Defisit)</div>
              <canvas id="cashBar"></canvas>
            </div>
          </div>

          <div class="space-lg"></div>

          <div class="card soft">
            <div class="card-title">Interpretasi Visual</div>
            <div id="visualNarrative" class="muted"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- PLAN -->
    <section class="section" id="section-plan">
      <div class="panel">
        <div class="panel-head">
          <div>
            <h2>Action Plan & Roadmap (3 / 6 / 12 Bulan)</h2>
            <p>Roadmap menyesuaikan kondisi: likuiditas, debt ratio, saving ratio, cashflow, plus goals yang kamu pasang.</p>
          </div>
          <div class="head-right">
            <button class="btn" id="btnPlanRecalc">Regenerate</button>
            <button class="btn primary" id="btnPlanToLanding">Kembali Landing â†’</button>
          </div>
        </div>

        <div class="panel-body">
          <div class="grid-2">
            <div class="card">
              <div class="card-title">Prioritas Utama (Sekarang)</div>
              <div id="planPriority" class="muted"></div>

              <div class="divider"></div>

              <div class="card-title">Checklist Cepat</div>
              <div id="planChecklist"></div>

              <div class="divider"></div>

              <div class="card-title">Autopay Suggested (Goals)</div>
              <div id="planGoalsAutopay" class="muted"></div>
            </div>

            <div class="card">
              <div class="card-title">Roadmap</div>
              <div id="roadmapBlocks"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <!-- Chart.js WAJIB biar Chart tidak undefined -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>
